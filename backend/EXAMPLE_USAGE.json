{
  "exampleUsage": {
    "title": "Complete Vietnam Quiz Backend Example",
    "description": "Full workflow demonstration from question fetching to personalized report generation",
    
    "workflow": {
      "step1": {
        "title": "Get Questions for Quiz",
        "endpoint": "GET /api/questions",
        "request": {
          "url": "http://localhost:3001/api/questions?ageGroup=10-15&count=5&mode=diagnostic",
          "headers": {
            "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        },
        "response": {
          "success": true,
          "data": {
            "questions": [
              {
                "id": "q-10-001-uuid",
                "questionId": "q-10-001",
                "ageGroup": "10-15",
                "topic": "Math",
                "text": "What is 12 × 8?",
                "options": [
                  {"id": "a", "text": "84"},
                  {"id": "b", "text": "96"},
                  {"id": "c", "text": "104"},
                  {"id": "d", "text": "88"}
                ],
                "explanation": "12 × 8 = 96. Excellent multiplication skills!",
                "cognitiveSkillTags": ["numerical-reasoning"],
                "difficulty": "medium"
              }
            ],
            "metadata": {
              "totalCount": 5,
              "ageGroup": "10-15",
              "mode": "diagnostic",
              "generatedAt": "2024-01-01T10:00:00Z"
            }
          }
        }
      },
      
      "step2": {
        "title": "Submit Quiz Answers",
        "endpoint": "POST /api/quiz/submit",
        "request": {
          "url": "http://localhost:3001/api/quiz/submit",
          "headers": {
            "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "Content-Type": "application/json"
          },
          "body": {
            "userId": "user-12345",
            "answers": [
              {
                "questionId": "q-10-001",
                "selectedOptionId": "b",
                "responseTimeMs": 15000
              },
              {
                "questionId": "q-10-002",
                "selectedOptionId": "a",
                "responseTimeMs": 18000
              },
              {
                "questionId": "q-10-003",
                "selectedOptionId": "b",
                "responseTimeMs": 22000
              },
              {
                "questionId": "q-10-004",
                "selectedOptionId": "b",
                "responseTimeMs": 16000
              },
              {
                "questionId": "q-10-005",
                "selectedOptionId": "c",
                "responseTimeMs": 20000
              }
            ],
            "startedAt": "2024-01-01T10:05:00Z",
            "finishedAt": "2024-01-01T10:10:30Z",
            "mode": "diagnostic"
          }
        },
        "response": {
          "success": true,
          "data": {
            "quizAttemptId": "attempt_1704106830_7x9k2m4p",
            "reportId": "report_1704106830_9m4k7x2p",
            "scores": {
              "rawScore": 4,
              "totalQuestions": 5,
              "percentageScore": 80.0,
              "compositeScore": 82.5,
              "speedScore": 78.3,
              "consistencyScore": 85.2,
              "category": "Innovator"
            },
            "category": "Innovator",
            "strengths": ["numerical-reasoning", "pattern-recognition"],
            "opportunities": ["time-management"],
            "gamificationRewards": {
              "xp": 420,
              "badges": ["First Quiz", "High Achiever", "Innovator Level 1"],
              "achievements": ["Quiz Starter", "Math Master"],
              "streaks": {"daily": 1}
            },
            "previewData": {
              "totalQuestions": 5,
              "correctAnswers": 4,
              "timeSpent": 91000,
              "certificateEligible": true
            }
          }
        }
      },
      
      "step3": {
        "title": "Get Comprehensive Report",
        "endpoint": "GET /api/reports/:reportId",
        "request": {
          "url": "http://localhost:3001/api/reports/report_1704106830_9m4k7x2p",
          "headers": {
            "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        },
        "response": {
          "success": true,
          "data": {
            "report": {
              "id": "report_1704106830_9m4k7x2p",
              "userSummary": {
                "name": "Aarav",
                "age": 12,
                "ageGroup": "10-15",
                "avatar": "avatar-fox"
              },
              "scores": {
                "rawScore": 4,
                "totalQuestions": 5,
                "percentageScore": 80.0,
                "compositeScore": 82.5,
                "speedScore": 78.3,
                "consistencyScore": 85.2,
                "category": "Innovator"
              },
              "strengths": [
                {
                  "skillTag": "numerical-reasoning",
                  "score": 90,
                  "examples": ["Solved math problems accurately", "Quick mental calculations"],
                  "description": "Strong mathematical thinking and problem-solving abilities"
                },
                {
                  "skillTag": "pattern-recognition",
                  "score": 85,
                  "examples": ["Identified number sequences", "Recognized visual patterns"],
                  "description": "Excellent at identifying and predicting patterns"
                }
              ],
              "opportunities": [
                {
                  "skillTag": "time-management",
                  "score": 65,
                  "description": "Could benefit from improved time management and task prioritization",
                  "recommendedLessonIds": ["L-TIME-001", "L-TIME-002"],
                  "priority": "medium"
                }
              ],
              "questionBreakdown": [
                {
                  "id": "q-10-001",
                  "questionText": "What is 12 × 8?",
                  "selectedOptionId": "b",
                  "correctOptionId": "b",
                  "isCorrect": true,
                  "timeSpentMs": 15000,
                  "explanation": "12 × 8 = 96. Excellent multiplication skills!",
                  "cognitiveSkillTags": ["numerical-reasoning"]
                }
              ],
              "gamificationRewards": {
                "xp": 420,
                "badges": ["First Quiz", "High Achiever", "Innovator Level 1"],
                "achievements": ["Quiz Starter", "Math Master"],
                "streaks": {"daily": 1, "weekly": 1}
              },
              "lessonPlan": [
                {
                  "id": "L-TIME-001-uuid",
                  "lessonId": "L-TIME-001",
                  "title": "Quick Time Tactics",
                  "description": "Learn effective time management strategies",
                  "skillTags": ["time-management", "attention-to-detail"],
                  "ageGroup": "10-15",
                  "durationMinutes": 15,
                  "difficulty": "easy",
                  "format": "video",
                  "learningObjectives": ["Manage time effectively", "Prioritize tasks"]
                }
              ],
              "certificate": {
                "eligible": true,
                "type": "achievement",
                "criteria": "Achieved 80%+ achievement level",
                "certificateId": "CERT_ACHIEVEMENT_aarav_1704106830",
                "validUntil": "2025-01-01T00:00:00Z"
              },
              "lottieRefs": {
                "confetti": "https://assets9.lottiefiles.com/packages/lf20_obhph3sh.json",
                "brainGauge": "https://assets9.lottiefiles.com/packages/lf20_dmw2lkzr.json",
                "categoryAnimation": "https://assets9.lottiefiles.com/packages/lf20_innovator.json"
              },
              "generatedAt": "2024-01-01T10:11:00Z"
            }
          }
        }
      },
      
      "step4": {
        "title": "Get Lesson Recommendations",
        "endpoint": "GET /api/lessons/recommend",
        "request": {
          "url": "http://localhost:3001/api/lessons/recommend?userId=user-12345&skillTags=time-management&maxResults=3",
          "headers": {
            "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        },
        "response": {
          "success": true,
          "data": {
            "lessons": [
              {
                "id": "L-TIME-001",
                "lessonId": "L-TIME-001",
                "title": "Quick Time Tactics",
                "description": "Learn effective time management strategies",
                "skillTags": ["time-management", "attention-to-detail"],
                "ageGroup": "10-15",
                "durationMinutes": 15,
                "difficulty": "easy",
                "format": "video",
                "learningObjectives": ["Manage time effectively", "Prioritize tasks"]
              }
            ],
            "metadata": {
              "totalRecommendations": 3,
              "basedOnSkills": ["time-management"],
              "generatedAt": "2024-01-01T10:12:00Z"
            }
          }
        }
      }
    },
    
    "llmPromptExamples": {
      "questionGeneration": {
        "input": {
          "ageGroup": "10-15",
          "topic": "Mathematics",
          "cognitiveSkillTag": "numerical-reasoning",
          "difficulty": "medium",
          "culturalContext": "global",
          "language": "english"
        },
        "prompt": "You are an educational psychologist writing age-appropriate multiple-choice questions for children.\n\nTASK: Create 1 MCQ for age group 10-15 that measures numerical-reasoning.\n\nREQUIREMENTS:\n- Age group: 10-15\n- Topic: Mathematics\n- Cognitive skill: numerical-reasoning\n- Difficulty: medium\n- Language: english\n- Cultural context: global\n\nCONSTRAINTS:\n- Use simple, age-appropriate vocabulary\n- Question text: maximum 20 words\n- 4 multiple choice options\n- Exactly one correct answer\n- No cultural bias or sensitive topics\n- No ambiguous language\n- Include plausible distractors for the age group\n\nOUTPUT FORMAT (JSON):\n{\n  \"text\": \"Question text here\",\n  \"options\": [\n    {\"id\": \"a\", \"text\": \"Option 1\"},\n    {\"id\": \"b\", \"text\": \"Option 2\"},\n    {\"id\": \"c\", \"text\": \"Option 3\"},\n    {\"id\": \"d\", \"text\": \"Option 4\"}\n  ],\n  \"correctOptionId\": \"a\",\n  \"explanation\": \"Clear explanation why the answer is correct\",\n  \"difficulty\": \"medium\",\n  \"cognitiveSkillTags\": [\"numerical-reasoning\"]\n}\n\nGenerate the question now:",
        "expectedOutput": {
          "text": "What is 15% of 120?",
          "options": [
            {"id": "a", "text": "15"},
            {"id": "b", "text": "18"},
            {"id": "c", "text": "20"},
            {"id": "d", "text": "24"}
          ],
          "correctOptionId": "b",
          "explanation": "15% of 120 = 0.15 × 120 = 18. Great percentage calculation!",
          "difficulty": "medium",
          "cognitiveSkillTags": ["numerical-reasoning"]
        }
      },
      
      "reportGeneration": {
        "input": {
          "userProfile": {
            "name": "Aarav",
            "age": 12,
            "ageGroup": "10-15"
          },
          "scores": {
            "rawScore": 4,
            "totalQuestions": 5,
            "percentageScore": 80.0,
            "category": "Innovator"
          },
          "strengths": ["numerical-reasoning", "pattern-recognition"],
          "opportunities": ["time-management"]
        },
        "prompt": "You are a child-friendly educational coach creating personalized feedback.\n\nINPUT DATA:\n- Student: Aarav, age 12 (10-15)\n- Score: 80% (4/5)\n- Category: Innovator\n- Strengths: numerical-reasoning, pattern-recognition\n- Areas for improvement: time-management\n\nTASK: Generate encouraging, age-appropriate feedback\n\nOUTPUT FORMAT (JSON):\n{\n  \"childMessage\": \"25-40 word encouraging message directly to the child\",\n  \"parentMessage\": \"Parent-facing paragraph describing the child's category and performance\",\n  \"recommendedLessons\": [\n    {\n      \"title\": \"Lesson title\",\n      \"objective\": \"One-line learning objective\",\n      \"duration\": 15\n    }\n  ]\n}\n\nGUIDELINES:\n- Child message: enthusiastic, positive, growth-focused\n- Parent message: informative, constructive, supportive\n- 3 recommended lessons targeting improvement areas\n- Use age-appropriate language and concepts\n\nGenerate the feedback now:",
        "expectedOutput": {
          "childMessage": "Incredible thinking, Aarav! You're innovative and creative with amazing math skills. Keep pushing boundaries and exploring new challenges!",
          "parentMessage": "Aarav scored 80% and is categorized as an Innovator. This means they exhibit advanced problem-solving skills and creative thinking abilities. Focus on time-management while building on their strengths in numerical-reasoning and pattern-recognition.",
          "recommendedLessons": [
            {
              "title": "Time Management Mastery",
              "objective": "Learn to organize tasks and manage time effectively",
              "duration": 15
            },
            {
              "title": "Advanced Problem Solving",
              "objective": "Challenge your innovative thinking with complex puzzles",
              "duration": 20
            },
            {
              "title": "Pattern Explorer Pro",
              "objective": "Master advanced pattern recognition techniques",
              "duration": 18
            }
          ]
        }
      }
    },
    
    "systemMetrics": {
      "performance": {
        "averageResponseTime": "< 200ms",
        "questionGenerationTime": "< 2s with LLM",
        "reportGenerationTime": "< 500ms",
        "scoringProcessingTime": "< 100ms"
      },
      "scalability": {
        "concurrentUsers": "1000+",
        "questionsPerSecond": "100+",
        "reportsPerMinute": "500+"
      },
      "accuracy": {
        "scoringAccuracy": "99.9%",
        "categoryClassification": "95%+ correct",
        "lessonRelevance": "90%+ satisfaction"
      }
    },
    
    "securityFeatures": {
      "authentication": "JWT Bearer tokens",
      "rateLimiting": "100 requests per 15 minutes",
      "dataValidation": "Zod schema validation",
      "errorHandling": "Sanitized error responses",
      "privacyCompliance": "COPPA ready, parent consent framework"
    },
    
    "integrationExamples": {
      "frontend": {
        "react": "Compatible with React/Next.js",
        "authentication": "JWT token management",
        "stateManagement": "Redux/Zustand recommended",
        "apiClient": "Axios/Fetch with TypeScript types"
      },
      "thirdParty": {
        "openai": "GPT-4 for question generation",
        "supabase": "Database and authentication",
        "redis": "Caching and rate limiting",
        "analytics": "Custom events tracking"
      }
    }
  }
}